<?xml version="1.0" encoding="utf-8" ?>
<log4net>
  
  <root>
    <level value="ALL" />
  </root>
  
  <!--memcached日志-->
  <logger name="Memcached.ClientLibrary">
    <level value="ERROR" />  <appender-ref ref="MemcachedFileAppender" /> 
    </logger>
  
  <logger name="MySql">
    <level value="ALL" /><appender-ref ref="MySqlFileAppender" />
  </logger>
  
  <logger name="PageError">
    <level value="ALL" /> <appender-ref ref="PageErrorFileAppender" />
  </logger>
  
   <logger name="Info">
    <level value="ALL" />  <appender-ref ref="InfoFileAppender" />
  </logger>
  
   <logger name="Test">
    <level value="ALL" />  <appender-ref ref="TestFileAppender" />
  </logger>
  
  <appender name="MemcachedFileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="log\memcached\" />
    <!--日志文件夹及文件名开头-->
    <appendToFile value="true" />
    <!--是否追加到文件-->
    <RollingStyle value="Date" />
    <!--日期的格式-->
    <DatePattern value="yyyy\\MM\\dd&quot;.log&quot;" />
    <!--文件名后面加上.log后缀，必须使用转义字符-->
    <StaticLogFileName value="false" />
    <!--日志文件名是否为静态-->
    <layout type="log4net.Layout.PatternLayout,log4net">
      <param name="ConversionPattern" value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline" />
      <param name="Header" value="&#13;&#10;--------------------------网站memcached运行日志--------------------------&#13;&#10;" />
      <param name="Footer" value="&#13;&#10;&#13;&#10;" />
    </layout>
    <filter type="log4net.Filter.LoggerMatchFilter">
      <param name="LoggerToMatch" value="Memcached.ClientLibrary" />
    </filter>
  </appender>

  <!--数据库日志-->
  <appender name="MySqlFileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="log\MySql\" />
    <!--日志文件夹及文件名开头-->
    <appendToFile value="true" />
    <!--是否追加到文件-->
    <RollingStyle value="Date" />
    <!--日期的格式-->
    <DatePattern value="yyyy\\MM\\dd&quot;.log&quot;" />
    <!--最大文件大小-->
    <StaticLogFileName value="false" />
    <!--日志文件名是否为静态-->
    <layout type="log4net.Layout.PatternLayout,log4net">
      <param name="ConversionPattern" value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message %file %line %newline" />
      <param name="Header" value="&#13;&#10;--------------------------网站运行日志--------------------------&#13;&#10;" />
      <param name="Footer" value="&#13;&#10;&#13;&#10;" />
    </layout>
    <filter type="log4net.Filter.LoggerMatchFilter">
      <param name="LoggerToMatch" value="MySql" />
    </filter>
  </appender>

  <!--网站页面错误日志-->
  <appender name="PageErrorFileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="log\PageError\" />
    <!--日志文件夹及文件名开头-->
    <appendToFile value="true" />
    <!--是否追加到文件-->
    <RollingStyle value="Date" />
    <!--日期的格式-->
    <DatePattern value="yyyy\\MM\\dd&quot;.log&quot;" />
    <!--最大文件大小-->
    <StaticLogFileName value="false" />
    <!--日志文件名是否为静态-->
    <layout type="log4net.Layout.PatternLayout,log4net">
      <param name="ConversionPattern" value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message %file %line %newline" />
      <param name="Header" value="&#13;&#10;--------------------------网站运行日志--------------------------&#13;&#10;" />
      <param name="Footer" value="&#13;&#10;&#13;&#10;" />
    </layout>
    <filter type="log4net.Filter.LoggerMatchFilter">
      <param name="LoggerToMatch" value="PageError" />
    </filter>
  </appender>
  
   <!--网站非法请求日志-->
  <appender name="InfoAppender" type="log4net.Appender.RollingFileAppender">
    <file value="log\Info\" />
    <!--日志文件夹及文件名开头-->
    <appendToFile value="true" />
    <!--是否追加到文件-->
    <RollingStyle value="Date" />
    <!--日期的格式-->
    <DatePattern value="yyyy\\MM\\dd&quot;.log&quot;" />
    <!--最大文件大小-->
    <StaticLogFileName value="false" />
    <!--日志文件名是否为静态-->
    <layout type="log4net.Layout.PatternLayout,log4net">
      <param name="ConversionPattern" value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message %file %line %newline" />
      <param name="Header" value="&#13;&#10;--------------------------网站运行日志--------------------------&#13;&#10;" />
      <param name="Footer" value="&#13;&#10;&#13;&#10;" />
    </layout>
    <filter type="log4net.Filter.LoggerMatchFilter">
      <param name="LoggerToMatch" value="Info" />
    </filter>
  </appender>
  
  <!--网站测试，消息统计日志-->
  <appender name="TestFileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="log\Test\" />
    <!--日志文件夹及文件名开头-->
    <appendToFile value="true" />
    <!--是否追加到文件-->
    <RollingStyle value="Date" />
    <!--日期的格式-->
    <DatePattern value="yyyy\\MM\\dd&quot;.log&quot;" />
    <!--最大文件大小-->
    <StaticLogFileName value="false" />
    <!--日志文件名是否为静态-->
    <layout type="log4net.Layout.PatternLayout,log4net">
      <param name="ConversionPattern" value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message %file %line %newline" />
      <param name="Header" value="&#13;&#10;--------------------------网站运行日志--------------------------&#13;&#10;" />
      <param name="Footer" value="&#13;&#10;&#13;&#10;" />
    </layout>
    <filter type="log4net.Filter.LoggerMatchFilter">
      <param name="LoggerToMatch" value="Test" />
    </filter>
  </appender>
  
</log4net>